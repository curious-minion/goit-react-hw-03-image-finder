{"version":3,"sources":["components/SearchBar/SearchBar.module.css","components/Loader/Loader.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/ApiService/ImageApi.js","components/SearchBar/SearchBar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Loader/Loader.js","components/Modal/Modal.js","App.js","index.js"],"names":["module","exports","fetchImages","searchRequest","page","url","fetch","then","response","ok","json","Promise","reject","Error","SearchBar","state","handleRequestChange","event","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","props","onSubmit","toast","error","this","className","Searchbar","SearchForm","type","SearchForm_button","SearchForm_button_label","SearchForm_input","name","onChange","autoComplete","autoFocus","placeholder","Component","ImageGalleryItem","tags","webformatURL","id","openModal","largeImageURL","imageGalleryItem","src","alt","imageGalleryItem_image","onClick","ImageGallery","images","image_gallery","map","Button","button","Loader","class","loader","one","two","three","Modal","onKeyDown","key","closeModal","window","addEventListener","removeEventListener","overlay","modal","modalBigImage","App","isLoading","handleFormSubmit","hits","catch","finally","handleButtonClick","prevState","onOpenModalClick","notify","clearWaitingQueue","prevProps","scrollTo","top","document","documentElement","scrollHeight","behavior","length","autoClose","limit","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.01f0051a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"SearchBar_Searchbar__1RfQT\",\"SearchForm\":\"SearchBar_SearchForm__2lOIu\",\"SearchForm_button\":\"SearchBar_SearchForm_button__3QCW_\",\"SearchForm_button_label\":\"SearchBar_SearchForm_button_label__2i2_G\",\"SearchForm_input\":\"SearchBar_SearchForm_input__2EVDY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__1NB33\",\"inner\":\"Loader_inner__KdHKn\",\"one\":\"Loader_one__JLYPM Loader_inner__KdHKn\",\"rotate-one\":\"Loader_rotate-one__3qZ5a\",\"two\":\"Loader_two__263HG Loader_inner__KdHKn\",\"rotate-two\":\"Loader_rotate-two__1QsRr\",\"three\":\"Loader_three__2UI_v Loader_inner__KdHKn\",\"rotate-three\":\"Loader_rotate-three__2Uofu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGalleryItem\":\"ImageGalleryItem_imageGalleryItem__3qKuH\",\"imageGalleryItem_image\":\"ImageGalleryItem_imageGalleryItem_image__19Wm6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__2HDBo\",\"modal\":\"Modal_modal__CGwOf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"image_gallery\":\"ImageGallery_image_gallery__302OA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__2XFVI\"};","export default function fetchImages(searchRequest, page) {\r\n    const KEY = '21938296-6f6e29c510a17a0a43204ed70';\r\n    const BASE_URL = 'https://pixabay.com/api/';\r\n    const url = `${BASE_URL}?image_type=photo&orientation=horizontal&q=${searchRequest}&page=${page}&per_page=12&key=${KEY}`;\r\n\r\n    return fetch(url).then(response => {\r\n        if (response.ok) {\r\n            return response.json();\r\n        }\r\n        return Promise.reject(new Error(` ${searchRequest} was not found`));\r\n    });\r\n}\r\n\r\n\r\n\r\n","import React, { Component } from \"react\";\r\nimport { toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport { Searchbar, SearchForm, SearchForm_button, SearchForm_button_label, SearchForm_input} from './SearchBar.module.css';\r\n\r\nexport default class SearchBar extends Component {\r\n  state = {\r\n    searchRequest: '',\r\n  };\r\n\r\n  handleRequestChange = event => {\r\n    this.setState({ searchRequest: event.currentTarget.value.toLowerCase() });\r\n  };\r\n\r\n  handleSubmit = event => {\r\n    event.preventDefault();\r\n\r\n    if (this.state.searchRequest.trim() === '') {\r\n      toast.error('Type in your search request');\r\n      return;\r\n    }\r\n    \r\n    this.props.onSubmit(this.state.searchRequest);\r\n    this.setState({ searchRequest: '' });\r\n\r\n  };\r\n\r\n  render() {\r\n    const { searchRequest } = this.state;\r\n    \r\n    return (\r\n      <header className={Searchbar}>\r\n      <form onSubmit={this.handleSubmit} className={SearchForm}>\r\n        <button type=\"submit\" className={SearchForm_button}>\r\n          <span className={SearchForm_button_label}>Search</span>\r\n        </button>\r\n\r\n        <input\r\n          className={SearchForm_input}\r\n            type=\"text\"\r\n            name=\"searchRequest\"\r\n            value={searchRequest}\r\n            onChange={this.handleRequestChange}\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Search images and photos\"\r\n        />\r\n      </form>\r\n    </header>);\r\n  }\r\n\r\n}\r\n\r\n","import PropTypes from 'prop-types';\r\nimport { imageGalleryItem, imageGalleryItem_image } from './ImageGalleryItem.module.css';\r\n\r\n\r\nexport default function ImageGalleryItem ({ tags, id, webformatURL, largeImageURL, openModal  }) {\r\n  return (\r\n    <li  className={imageGalleryItem}>\r\n      <img\r\n        src={webformatURL}\r\n        alt={tags}\r\n        className={imageGalleryItem_image}\r\n        onClick={openModal} />\r\n    </li>\r\n  )\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n  tags: PropTypes.string,\r\n \r\n  webformatURL: PropTypes.string.isRequired\r\n    \r\n};\r\n\r\n\r\n\r\n\r\n\r\n  ","import PropTypes from 'prop-types';\r\nimport ImageGalleryItem from '../ImageGalleryItem';\r\nimport { image_gallery } from './ImageGallery.module.css';\r\n\r\nexport default function ImageGallery({ images, onClick }) {\r\n  const showModal = url => {\r\n    onClick(url);\r\n  };\r\n\r\n  return (<ul className={image_gallery}>\r\n    {images.map(({ id, webformatURL, tags, largeImageURL  }) => (\r\n      <ImageGalleryItem\r\n        largeImageURL={largeImageURL}\r\n        key={id}\r\n        webformatURL={webformatURL}\r\n        tags={tags}\r\n      openModal ={()=> showModal(largeImageURL)}/>\r\n      \r\n    ))}\r\n  </ul>\r\n  )\r\n};\r\n  \r\n\r\nImageGallery.propTypes = {\r\n  onClick: PropTypes.func.isRequired,\r\n  images: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      webformatURL: PropTypes.string.isRequired,\r\n      id: PropTypes.number.isRequired,\r\n      largeImageURL: PropTypes.string.isRequired\r\n    }))\r\n};\r\n\r\n\r\n\r\n\r\n","import PropTypes from 'prop-types';\r\nimport { button } from './Button.module.css';\r\n\r\nconst Button = ({ onClick }) => {\r\n    return (\r\n        <div className={button} type=\"button\" onClick={onClick}>Load more</div>\r\n    );\r\n};\r\n\r\n\r\nButton.propTypes = {\r\n    onClick: PropTypes.func.isRequired\r\n};\r\n\r\nexport default Button;","\r\nimport { loader, one, two, three } from './Loader.module.css';\r\n\r\nconst Loader = () => {\r\n    return (\r\n       <div class={loader}>\r\n    <div class={one}></div>\r\n    <div class={two}></div>\r\n    <div class={three}></div>\r\n    </div>\r\n    );\r\n};\r\n\r\n\r\n\r\n\r\nexport default Loader;\r\n","import React, {Component} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { overlay, modal } from './Modal.module.css';\r\n\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.onKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.onKeyDown);\r\n  }\r\n\r\n  onKeyDown = event => {\r\n    if (event.key === 'Escape') {\r\n      this.props.closeModal();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className={overlay} onClick={this.props.closeModal}>\r\n        <div className={modal}>\r\n          <img src={this.props.modalBigImage} alt=\"\" />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nModal.propTypes = {\r\n  closeModal: PropTypes.func.isRequired,\r\n  modalBigImage: PropTypes.string.isRequired\r\n};\r\n\r\nexport default Modal;\r\n\r\n\r\n","import React, { Component, Fragment } from \"react\";\n\nimport fetchImages from './components/ApiService/ImageApi';\n// import ErrorView from \"./components/ErrorView/ErrorView\";\nimport SearchBar from './components/SearchBar';\nimport ImageGallery from \"./components/ImageGallery\";\n\nimport Button from './components/Button';\nimport Loader from './components/Loader/Loader';\nimport Modal from './components/Modal';\n\n\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\n\n\n\n\nexport class App extends Component {\n  state = {\n    searchRequest: '',\n    page: 0,\n    error: null,\n    images: [],\n    isLoading: false,\n    modalBigImage: '',\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const prevRequest = prevState.searchRequest;\n    const nextRequest = this.state.searchRequest;\n\n    if (prevRequest !== nextRequest) {\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: 'smooth',\n      });\n    };\n  }\n\n   \n    handleFormSubmit = searchRequest => {\n      this.setState({ searchRequest, isLoading: true});\n\n     fetchImages(searchRequest, 1).then(response => this.setState({ images: response.hits, page: +1})).catch(error => this.setState({ error })).finally(() => this.setState({isLoading: false }));\n    \n    };\n\n    handleButtonClick = () => {\n    this.setState({ isLoading: true });\n    const { searchRequest, page } = this.state;\n    \n    fetchImages(searchRequest, page + 1).then(response => this.setState(prevState => ({ images: [...prevState.images, ...response.hits], page: prevState.page + 1 }))).catch(error => this.setState({ error })).finally(() => this.setState({ isLoading: false }));\n   \n    };\n  onOpenModalClick = largeImageURL  => {\n    this.setState({modalBigImage: largeImageURL });\n  };\n\n  closeModal = () => {\n    this.setState({modalBigImage: ''});\n  };\n  \n  notify = () => {\n    toast.error(\"Whoops, something went wrong\");\n    toast.clearWaitingQueue();\n    return;\n  };\n\n  render() {\n    const { images, isLoading, page, modalBigImage} = this.state;\n    \n    \n    return (\n      <>\n        <SearchBar onSubmit={this.handleFormSubmit} images={images} />\n        <Fragment>\n        {isLoading && <Loader/>}\n         {(images.length < 1 && page === 1) && this.notify()} \n          {images.length > 0 && <ImageGallery images={images} onClick={ this.onOpenModalClick}/>}\n          {images.length > 11 && <Button onClick={this.handleButtonClick} />}\n          {modalBigImage && <Modal\n          modalBigImage={modalBigImage}\n          closeModal={ this.closeModal}/>}\n        </Fragment>\n        \n        \n      <ToastContainer autoClose={2000} limit={1} />    \n     \n      \n       </>\n    \n    /* <Modal/> \n       */\n       \n    );\n    \n  };\n};\n\n   \nexport default App;\n\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nimport 'modern-normalize/modern-normalize.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App className={App} />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}